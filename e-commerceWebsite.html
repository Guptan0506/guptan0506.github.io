<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ShopSphere | Navya Gupta</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <link rel="icon" href="IMG_0017.jpeg" type="image/x-icon">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f3f4f6;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-thumb {
      background: #9ca3af;
      border-radius: 8px;
    }

    /* Animations */
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fade-in 0.5s ease-out forwards;
    }
  </style>
</head>

<body class="min-h-screen flex flex-col">

  <!-- APP ROOT -->
  <div id="app-root" class="flex flex-col flex-grow">

    <!-- HEADER -->
    <header
      id="app-header"
      class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg sticky top-0 z-50"
    ></header>

    <!-- MAIN -->
    <main id="app-main" class="flex-grow pb-12"></main>

    <!-- ALERT -->
    <div id="custom-alert-container"></div>
  </div>

  <!-- BACK TO PORTFOLIO -->
  <div class="max-w-7xl mx-auto px-4 my-8 text-center">
    <a href="index.html" class="inline-block bg-pink-400 hover:bg-pink-500 text-white font-bold px-6 py-3 rounded-xl transition">
      ← Back to Portfolio
    </a>
  </div>

  <!-- FOOTER -->
  <footer class="bg-white border-t">
    <div class="max-w-7xl mx-auto px-6 py-8 text-center">
      <div class="flex justify-center space-x-6 mb-4">
        <a href="https://github.com" target="_blank"><i data-feather="github"></i></a>
        <a href="https://linkedin.com" target="_blank"><i data-feather="linkedin"></i></a>
      </div>
      <p class="text-gray-500 text-sm">
        © <span id="year"></span> Navya Gupta. All rights reserved.
      </p>
    </div>
  </footer>

  <!-- JS -->
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    document.addEventListener("DOMContentLoaded", () => {

      /* ---------------- DATA ---------------- */
      const productsData = [
        { id: 1, name: 'Vintage Camera', description: 'Capture timeless moments with this classic film camera.', price: 299.99, imageUrl: 'https://placehold.co/400x300/FEE2E2/DC2626?text=Camera' },
        { id: 2, name: 'Noise-Cancelling Headphones', description: 'Immerse yourself in pure audio with superior noise cancellation.', price: 199.99, imageUrl: 'https://placehold.co/400x300/DBEAFE/2563EB?text=Headphones' },
        { id: 3, name: 'Smartwatch Pro', description: 'Stay connected and track your fitness.', price: 249.99, imageUrl: 'https://placehold.co/400x300/D1FAE5/059669?text=Smartwatch' },
        { id: 4, name: 'Ergonomic Office Chair', description: 'Comfort and style for long work sessions.', price: 450.00, imageUrl: 'https://placehold.co/400x300/E9D5FF/8B5CF6?text=Chair' },
        { id: 5, name: 'Portable Bluetooth Speaker', description: 'Crisp sound on the go.', price: 89.99, imageUrl: 'https://placehold.co/400x300/FFEDD5/F97316?text=Speaker' },
        { id: 6, name: '4K Ultra HD Monitor', description: 'Sharp visuals with vibrant colors.', price: 349.99, imageUrl: 'https://placehold.co/400x300/ECFDF5/0F766E?text=Monitor' },
      ];

      let currentPage = "products";
      let cartItems = [];
      let alertMessage = "";

      /* ---------------- CART ---------------- */
      const loadCart = () => {
        cartItems = JSON.parse(localStorage.getItem("cartItems") || "[]");
      };
      const saveCart = () => {
        localStorage.setItem("cartItems", JSON.stringify(cartItems));
      };

      const addToCart = id => {
        const item = cartItems.find(i => i.id === id);
        if (item) item.quantity++;
        else cartItems.push({ ...productsData.find(p => p.id === id), quantity: 1 });
        saveCart();
        render();
      };

      const updateQuantity = (id, qty) => {
        const item = cartItems.find(i => i.id === id);
        if (item) item.quantity = Math.max(1, qty);
        saveCart();
        render();
      };

      const removeFromCart = id => {
        cartItems = cartItems.filter(i => i.id !== id);
        saveCart();
        render();
      };

      const clearCart = () => {
        cartItems = [];
        saveCart();
        render();
      };

      const totalItems = () => cartItems.reduce((t, i) => t + i.quantity, 0);
      const totalPrice = () => cartItems.reduce((t, i) => t + i.price * i.quantity, 0);

      /* ---------------- NAV ---------------- */
      const navigate = page => {
        currentPage = page;
        render();
      };

      /* ---------------- HEADER ---------------- */
      const renderHeader = () => {
        document.getElementById("app-header").innerHTML = `
          <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 onclick="app.navigate('products')" class="text-2xl font-extrabold cursor-pointer">
              ShopSphere
            </h1>
            <div class="flex gap-4">
              <button onclick="app.navigate('products')" class="font-semibold hover:underline">
                Products
              </button>
              <button onclick="app.navigate('cart')" class="relative font-semibold hover:underline">
                Cart
                ${totalItems() > 0 ? `
                  <span class="absolute -top-2 -right-3 bg-red-500 text-xs rounded-full px-2 py-0.5">
                    ${totalItems()}
                  </span>` : ""}
              </button>
            </div>
          </div>
        `;
      };

      /* ---------------- PAGES ---------------- */
      const renderProducts = () => `
        <div class="max-w-7xl mx-auto px-4 py-10">
          <h2 class="text-3xl font-extrabold text-center mb-10 animate-fade-in">Products</h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            ${productsData.map(p => `
              <div class="bg-white rounded-xl shadow hover:shadow-xl transition overflow-hidden flex flex-col">
                <img src="${p.imageUrl}" class="h-48 w-full object-cover">
                <div class="p-5 flex flex-col flex-grow">
                  <h3 class="font-bold text-lg mb-2">${p.name}</h3>
                  <p class="text-sm text-gray-600 mb-4 flex-grow">${p.description}</p>
                  <div class="flex justify-between items-center">
                    <span class="font-extrabold text-blue-600">$${p.price.toFixed(2)}</span>
                    <button onclick="app.addToCart(${p.id})"
                      class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">
                      Add
                    </button>
                  </div>
                </div>
              </div>
            `).join("")}
          </div>
        </div>
      `;

      const renderCart = () => {
        if (!cartItems.length) {
          return `
            <div class="max-w-3xl mx-auto px-4 py-16 text-center">
              <p class="text-xl text-gray-600 mb-6">Your cart is empty.</p>
              <button onclick="app.navigate('products')" class="bg-blue-600 text-white px-6 py-3 rounded-lg">
                Start Shopping
              </button>
            </div>
          `;
        }

        return `
          <div class="max-w-5xl mx-auto px-4 py-10">
            <h2 class="text-3xl font-extrabold mb-8 text-center">Your Cart</h2>
            ${cartItems.map(i => `
              <div class="bg-white rounded-lg shadow p-4 mb-4 flex flex-col sm:flex-row sm:items-center gap-4">
                <img src="${i.imageUrl}" class="w-full sm:w-24 h-24 object-cover rounded">
                <div class="flex-grow">
                  <h3 class="font-bold">${i.name}</h3>
                  <p class="text-gray-600">$${i.price.toFixed(2)}</p>
                </div>
                <div class="flex items-center gap-3">
                  <button onclick="app.updateQuantity(${i.id}, ${i.quantity - 1})">−</button>
                  <span>${i.quantity}</span>
                  <button onclick="app.updateQuantity(${i.id}, ${i.quantity + 1})">+</button>
                </div>
                <button onclick="app.removeFromCart(${i.id})" class="text-red-500">Remove</button>
              </div>
            `).join("")}

            <div class="text-right mt-6">
              <p class="text-xl font-bold">Total: $${totalPrice().toFixed(2)}</p>
              <button onclick="app.navigate('checkout')" class="mt-4 bg-green-600 text-white px-6 py-3 rounded-lg">
                Checkout
              </button>
            </div>
          </div>
        `;
      };

      const renderCheckout = () => `
        <div class="max-w-md mx-auto px-4 py-20 text-center">
          <h2 class="text-3xl font-extrabold mb-6">Checkout</h2>
          <p class="text-4xl font-bold mb-8">$${totalPrice().toFixed(2)}</p>
          <button onclick="alert('Order placed!')" class="bg-green-600 text-white px-6 py-3 rounded-lg mb-4">
            Place Order
          </button>
          <button onclick="app.navigate('cart')" class="block mx-auto text-gray-600 underline">
            Back to Cart
          </button>
        </div>
      `;

      const render = () => {
        renderHeader();
        const main = document.getElementById("app-main");
        main.innerHTML =
          currentPage === "cart" ? renderCart()
          : currentPage === "checkout" ? renderCheckout()
          : renderProducts();
        window.scrollTo(0, 0);
      };

      /* ---------------- INIT ---------------- */
      window.app = { navigate, addToCart, updateQuantity, removeFromCart, clearCart };
      loadCart();
      render();
    });
  </script>

  <!-- Icons -->
  <script src="https://unpkg.com/feather-icons"></script>
  <script>feather.replace()</script>

</body>
</html>
